{
  "hash": "1abe3de5a5c21aabb4c15ccf4c49cc0a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AIC, BIC, and Deviance\"\nauthor: \"Luke Miratrix\"\neditor: \n  markdown: \n    wrap: sentence\n---\n\n\n\n\n\n\n\n\nIn this section, we briefly walk through how to find AIC, BIC, and Deviance to compare models.\nWe have a simple multilevel dataset (we generate through a utility package, `blkvar`, that Miratrix and the C.A.R.E.S. lab has used to explore how multilevel modeling works in practice), and generate a few variables that we will use as predictors.\nOnly the fourth variable is actually useful for prediction!\nLet's see if our AIC, etc., measures identify which model is superior.\n\nTo install a \"working package\" we use `devtools`:\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndevtools::install_github(\"https://github.com/lmiratrix/blkvar\" )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary( blkvar )\ndd = generate_multilevel_data( J = 40 )\nhead( dd )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    sid         Y0          Y1 Z        Yobs          W\n1     1 -1.0978326 -0.52047277 0 -1.09783261 -0.2548277\n1.1   1 -1.1328479 -0.55548808 0 -1.13284793 -0.2548277\n1.2   1 -0.2674354  0.30992447 1  0.30992447 -0.2548277\n1.3   1 -1.3618322 -0.78447241 0 -1.36183225 -0.2548277\n1.4   1 -0.4988098  0.07855001 1  0.07855001 -0.2548277\n2     2 -0.5741312 -0.86327146 0 -0.57413117 -1.1661857\n```\n\n\n:::\n\n```{.r .cell-code}\ndd$X1 = rnorm( nrow(dd) )\ndd$X2 = rnorm( nrow(dd) )\ndd$X3 = rnorm( nrow(dd) )\ndd$X4 = dd$Yobs + rnorm(nrow(dd))\n \nM1 = lmer( Yobs ~ 1 + (1|sid), data=dd )\nM2 = lmer( Yobs ~ 1 + X1 + X2 + X3 + (1|sid), data=dd )\nM3 = lmer( Yobs ~ 1 + X1 + X2 + X3 + X4 + (1|sid), data=dd )\n\nlibrary( arm )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: MASS\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'MASS'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:dplyr':\n\n    select\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\narm (Version 1.14-4, built: 2024-4-1)\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWorking directory is /Users/lmiratrix/Dropbox/MLM Course F2024/MLM textbook\n```\n\n\n:::\n\n```{.r .cell-code}\ndisplay(M1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nlmer(formula = Yobs ~ 1 + (1 | sid), data = dd)\ncoef.est  coef.se \n    0.12     0.11 \n\nError terms:\n Groups   Name        Std.Dev.\n sid      (Intercept) 0.67    \n Residual             0.63    \n---\nnumber of obs: 446, groups: sid, 40\nAIC = 957.6, DIC = 946.5\ndeviance = 949.0 \n```\n\n\n:::\n\n```{.r .cell-code}\ndisplay(M2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nlmer(formula = Yobs ~ 1 + X1 + X2 + X3 + (1 | sid), data = dd)\n            coef.est coef.se\n(Intercept)  0.12     0.11  \nX1          -0.01     0.03  \nX2           0.01     0.03  \nX3           0.01     0.03  \n\nError terms:\n Groups   Name        Std.Dev.\n sid      (Intercept) 0.67    \n Residual             0.63    \n---\nnumber of obs: 446, groups: sid, 40\nAIC = 978.3, DIC = 930.8\ndeviance = 948.6 \n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary( texreg )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nVersion:  1.39.3\nDate:     2023-11-09\nAuthor:   Philip Leifeld (University of Essex)\n\nConsider submitting praise using the praise or praise_interactive functions.\nPlease cite the JSS article in your publications -- see citation(\"texreg\").\n```\n\n\n:::\n\n```{.r .cell-code}\nscreenreg( list( M1, M2, M3 ) )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n=====================================================\n                      Model 1   Model 2   Model 3    \n-----------------------------------------------------\n(Intercept)              0.12      0.12      0.11    \n                        (0.11)    (0.11)    (0.08)   \nX1                                -0.01     -0.00    \n                                  (0.03)    (0.03)   \nX2                                 0.01     -0.02    \n                                  (0.03)    (0.03)   \nX3                                 0.01      0.01    \n                                  (0.03)    (0.03)   \nX4                                           0.31 ***\n                                            (0.02)   \n-----------------------------------------------------\nAIC                    957.59    978.30    804.44    \nBIC                    969.89   1002.90    833.14    \nLog Likelihood        -475.80   -483.15   -395.22    \nNum. obs.              446       446       446       \nNum. groups: sid        40        40        40       \nVar: sid (Intercept)     0.45      0.45      0.24    \nVar: Residual            0.39      0.40      0.27    \n=====================================================\n*** p < 0.001; ** p < 0.01; * p < 0.05\n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}